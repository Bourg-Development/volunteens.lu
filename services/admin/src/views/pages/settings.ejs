<h1>Settings</h1>

<% if (typeof msg !== 'undefined' && msg) { %>
<div class="alert <%= success ? 'alert-success' : 'alert-error' %>"><%= msg %></div>
<% } %>

<div class="card">
    <h2 class="mb-1">Payment Settings</h2>
    <p style="color: #666; margin-bottom: 1.5rem;">Configure payment-related settings for the volunteer invoicing system.</p>

    <form action="/settings/<%= SETTING_KEYS.HOURLY_RATE_RECOMMENDATION %>" method="POST" class="settings-form">
        <div class="form-group">
            <label for="hourly_rate_recommendation">Hourly Rate Recommendation (EUR)</label>
            <input
                type="number"
                id="hourly_rate_recommendation"
                name="value"
                value="<%= settings[SETTING_KEYS.HOURLY_RATE_RECOMMENDATION] ? settings[SETTING_KEYS.HOURLY_RATE_RECOMMENDATION].value : '15.00' %>"
                step="0.01"
                min="0"
                required
                class="form-control"
                style="max-width: 200px;"
            >
            <p class="form-hint">The recommendation shown to organizers when they set their pay.</p>
        </div>

        <% if (settings[SETTING_KEYS.HOURLY_RATE_RECOMMENDATION]) { %>
        <p class="last-updated">
            Last updated: <%= new Date(settings[SETTING_KEYS.HOURLY_RATE_RECOMMENDATION].updatedAt).toLocaleString() %>
        </p>
        <% } %>

        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>

<div class="card" style="margin-top: 1.5rem;">
    <h2 class="mb-1">B2B Support</h2>
    <p style="color: #666; margin-bottom: 1.5rem;">Configure support contact for organization accounts.</p>

    <form action="/settings/<%= SETTING_KEYS.B2B_SUPPORT_EMAIL %>" method="POST" class="settings-form">
        <div class="form-group">
            <label for="b2b_support_email">B2B Support Email</label>
            <input
                type="email"
                id="b2b_support_email"
                name="value"
                value="<%= settings[SETTING_KEYS.B2B_SUPPORT_EMAIL] ? settings[SETTING_KEYS.B2B_SUPPORT_EMAIL].value : 'b2b@volunteens.lu' %>"
                required
                class="form-control"
                style="max-width: 300px;"
            >
            <p class="form-hint">This email is shown to organizations in welcome emails and support messages.</p>
        </div>

        <% if (settings[SETTING_KEYS.B2B_SUPPORT_EMAIL]) { %>
        <p class="last-updated">
            Last updated: <%= new Date(settings[SETTING_KEYS.B2B_SUPPORT_EMAIL].updatedAt).toLocaleString() %>
        </p>
        <% } %>

        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>

<style>
.settings-form .form-group {
    margin-bottom: 1rem;
}
.settings-form label {
    display: block;
    font-weight: 600;
    margin-bottom: 0.5rem;
}
.settings-form .form-control {
    padding: 0.5rem 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}
.settings-form .form-control:focus {
    outline: none;
    border-color: #0987c9;
    box-shadow: 0 0 0 2px rgba(9, 135, 201, 0.1);
}
.settings-form .form-hint {
    font-size: 0.85rem;
    color: #666;
    margin-top: 0.25rem;
}
.last-updated {
    font-size: 0.85rem;
    color: #888;
    margin-bottom: 1rem;
}
</style>
